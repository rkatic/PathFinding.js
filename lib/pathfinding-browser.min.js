!function(t){if("function"==typeof bootstrap)bootstrap("pf",t);else if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makePF=t}else"undefined"!=typeof window?window.PF=t():global.PF=t()}(function(){return function(t,e,r){function i(r,o){if(!e[r]){if(!t[r]){var s="function"==typeof require&&require;if(!o&&s)return s(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+r+"'")}var a=e[r]={exports:{}};t[r][0].call(a.exports,function(e){var n=t[r][1][e];return i(n?n:e)},a,a.exports)}return e[r].exports}for(var n="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e){e.exports=t("./lib/heap")},{"./lib/heap":2}],2:[function(t,e){!function(){var t,r,i,n,o,s,a,h,u,p,l,c,d,f,g;i=Math.floor,p=Math.min,r=function(t,e){return e>t?-1:t>e?1:0},u=function(t,e,n,o,s){var a;if(null==n&&(n=0),null==s&&(s=r),0>n)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);o>n;)a=i((n+o)/2),s(e,t[a])<0?o=a:n=a+1;return[].splice.apply(t,[n,n-n].concat(e)),e},s=function(t,e,i){return null==i&&(i=r),t.push(e),f(t,0,t.length-1,i)},o=function(t,e){var i,n;return null==e&&(e=r),i=t.pop(),t.length?(n=t[0],t[0]=i,g(t,0,e)):n=i,n},h=function(t,e,i){var n;return null==i&&(i=r),n=t[0],t[0]=e,g(t,0,i),n},a=function(t,e,i){var n;return null==i&&(i=r),t.length&&i(t[0],e)<0&&(n=[t[0],e],e=n[0],t[0]=n[1],g(t,0,i)),e},n=function(t,e){var n,o,s,a,h,u;for(null==e&&(e=r),a=function(){u=[];for(var e=0,r=i(t.length/2);r>=0?r>e:e>r;r>=0?e++:e--)u.push(e);return u}.apply(this).reverse(),h=[],o=0,s=a.length;s>o;o++)n=a[o],h.push(g(t,n,e));return h},d=function(t,e,i){var n;return null==i&&(i=r),n=t.indexOf(e),-1!==n?(f(t,0,n,i),g(t,n,i)):void 0},l=function(t,e,i){var o,s,h,u,p;if(null==i&&(i=r),s=t.slice(0,e),!s.length)return s;for(n(s,i),p=t.slice(e),h=0,u=p.length;u>h;h++)o=p[h],a(s,o,i);return s.sort(i).reverse()},c=function(t,e,i){var s,a,h,l,c,d,f,g,y,b;if(null==i&&(i=r),10*e<=t.length){if(l=t.slice(0,e).sort(i),!l.length)return l;for(h=l[l.length-1],g=t.slice(e),c=0,f=g.length;f>c;c++)s=g[c],i(s,h)<0&&(u(l,s,0,null,i),l.pop(),h=l[l.length-1]);return l}for(n(t,i),b=[],a=d=0,y=p(e,t.length);y>=0?y>d:d>y;a=y>=0?++d:--d)b.push(o(t,i));return b},f=function(t,e,i,n){var o,s,a;for(null==n&&(n=r),o=t[i];i>e&&(a=i-1>>1,s=t[a],n(o,s)<0);)t[i]=s,i=a;return t[i]=o},g=function(t,e,i){var n,o,s,a,h;for(null==i&&(i=r),o=t.length,h=e,s=t[e],n=2*e+1;o>n;)a=n+1,o>a&&!(i(t[n],t[a])<0)&&(n=a),t[e]=t[n],e=n,n=2*e+1;return t[e]=s,f(t,h,e,i)},t=function(){function t(t){this.cmp=null!=t?t:r,this.nodes=[]}return t.push=s,t.pop=o,t.replace=h,t.pushpop=a,t.heapify=n,t.nlargest=l,t.nsmallest=c,t.prototype.push=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return h(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return n(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return d(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return e=new t,e.nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.remove=t.prototype.pop,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=t:window.Heap=t}.call(this)},{}],3:[function(t,e){e.exports={Heap:t("heap"),Node:t("./core/Node"),Grid:t("./core/Grid"),Util:t("./core/Util"),Heuristic:t("./core/Heuristic"),AStarFinder:t("./finders/AStarFinder"),BestFirstFinder:t("./finders/BestFirstFinder"),BreadthFirstFinder:t("./finders/BreadthFirstFinder"),DijkstraFinder:t("./finders/DijkstraFinder"),BiAStarFinder:t("./finders/BiAStarFinder"),BiBestFirstFinder:t("./finders/BiBestFirstFinder"),BiBreadthFirstFinder:t("./finders/BiBreadthFirstFinder"),BiDijkstraFinder:t("./finders/BiDijkstraFinder"),JumpPointFinder:t("./finders/JumpPointFinder"),IDAStarFinder:t("./finders/IDAStarFinder"),DStarLiteFinder:t("./finders/DStarLiteFinder")}},{"./core/Grid":4,"./core/Heuristic":5,"./core/Node":6,"./core/Util":7,"./finders/AStarFinder":8,"./finders/BestFirstFinder":9,"./finders/BiAStarFinder":10,"./finders/BiBestFirstFinder":11,"./finders/BiBreadthFirstFinder":12,"./finders/BiDijkstraFinder":13,"./finders/BreadthFirstFinder":14,"./finders/DStarLiteFinder":15,"./finders/DijkstraFinder":16,"./finders/IDAStarFinder":17,"./finders/JumpPointFinder":18,heap:1}],4:[function(t,e){function r(t,e,r){this.width=t,this.height=e,this.nodes=this._buildNodes(t,e,r)}var i=t("./Node");r.prototype._buildNodes=function(t,e,r){var n,o,s=new Array(e);for(n=0;e>n;++n)for(s[n]=new Array(t),o=0;t>o;++o)s[n][o]=new i(o,n);if(void 0===r)return s;if(r.length!==e||r[0].length!==t)throw new Error("Matrix size does not fit");for(n=0;e>n;++n)for(o=0;t>o;++o)r[n][o]&&(s[n][o].walkable=!1);return s},r.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},r.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},r.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},r.prototype.setWalkableAt=function(t,e,r){this.nodes[e][t].walkable=r},r.prototype.getNeighbors=function(t,e,r){var i=t.x,n=t.y,o=[],s=!1,a=!1,h=!1,u=!1,p=!1,l=!1,c=!1,d=!1,f=this.nodes;return this.isWalkableAt(i,n-1)&&(o.push(f[n-1][i]),s=!0),this.isWalkableAt(i+1,n)&&(o.push(f[n][i+1]),h=!0),this.isWalkableAt(i,n+1)&&(o.push(f[n+1][i]),p=!0),this.isWalkableAt(i-1,n)&&(o.push(f[n][i-1]),c=!0),e?(r?(a=c&&s,u=s&&h,l=h&&p,d=p&&c):(a=c||s,u=s||h,l=h||p,d=p||c),a&&this.isWalkableAt(i-1,n-1)&&o.push(f[n-1][i-1]),u&&this.isWalkableAt(i+1,n-1)&&o.push(f[n-1][i+1]),l&&this.isWalkableAt(i+1,n+1)&&o.push(f[n+1][i+1]),d&&this.isWalkableAt(i-1,n+1)&&o.push(f[n+1][i-1]),o):o},r.prototype.clone=function(){var t,e,n=this.width,o=this.height,s=this.nodes,a=new r(n,o),h=new Array(o);for(t=0;o>t;++t)for(h[t]=new Array(n),e=0;n>e;++e)h[t][e]=new i(e,t,s[t][e].walkable);return a.nodes=h,a},e.exports=r},{"./Node":6}],5:[function(t,e){e.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},chebyshev:function(t,e){return Math.max(t,e)}}},{}],6:[function(t,e){function r(t,e,r){this.x=t,this.y=e,this.walkable=void 0===r?!0:r}e.exports=r},{}],7:[function(t,e,r){function i(t){for(var e=[[t.x,t.y]];t.parent;)t=t.parent,e.push([t.x,t.y]);return e.reverse()}function n(t,e){var r=i(t),n=i(e);return r.concat(n.reverse())}function o(t){var e,r,i,n,o,s=0;for(e=1;e<t.length;++e)r=t[e-1],i=t[e],n=r[0]-i[0],o=r[1]-i[1],s+=Math.sqrt(n*n+o*o);return s}function s(t,e,r,i){var n,o,s,a,h,u,p=Math.abs,l=[];for(s=p(r-t),a=p(i-e),n=r>t?1:-1,o=i>e?1:-1,h=s-a;;){if(l.push([t,e]),t===r&&e===i)break;u=2*h,u>-a&&(h-=a,t+=n),s>u&&(h+=s,e+=o)}return l}function a(t){var e,r,i,n,o,a,h=[],u=t.length;if(2>u)return h;for(o=0;u-1>o;++o)for(e=t[o],r=t[o+1],i=s(e[0],e[1],r[0],r[1]),n=i.length,a=0;n-1>a;++a)h.push(i[a]);return h.push(t[u-1]),h}function h(t,e){var r,i,n,o,a,h,u,p,l,c,d,f,g,y=e.length,b=e[0][0],k=e[0][1],A=e[y-1][0],v=e[y-1][1];for(r=b,i=k,a=e[1][0],h=e[1][1],u=[[r,i]],p=2;y>p;++p){for(c=e[p],n=c[0],o=c[1],d=s(r,i,n,o),g=!1,l=1;l<d.length;++l)if(f=d[l],!t.isWalkableAt(f[0],f[1])){g=!0,u.push([a,h]),r=a,i=h;break}g||(a=n,h=o)}return u.push([A,v]),u}function u(t){if(t.length<3)return t;var e,r,i,n,o,s,a=[],h=t[0][0],u=t[0][1],p=t[1][0],l=t[1][1],c=p-h,d=l-u;for(o=Math.sqrt(c*c+d*d),c/=o,d/=o,a.push([h,u]),s=2;s<t.length;s++)e=p,r=l,i=c,n=d,p=t[s][0],l=t[s][1],c=p-e,d=l-r,o=Math.sqrt(c*c+d*d),c/=o,d/=o,(c!==i||d!==n)&&a.push([e,r]);return a.push([p,l]),a}r.backtrace=i,r.biBacktrace=n,r.pathLength=o,r.interpolate=s,r.expandPath=a,r.smoothenPath=h,r.compressPath=u},{}],8:[function(t,e){function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||o.manhattan,this.weight=t.weight||1}var i=t("heap"),n=t("../core/Util"),o=t("../core/Heuristic");r.prototype.findPath=function(t,e,r,o,s){var a,h,u,p,l,c,d,f,g=new i(function(t,e){return t.f-e.f}),y=s.getNodeAt(t,e),b=s.getNodeAt(r,o),k=this.heuristic,A=this.allowDiagonal,v=this.dontCrossCorners,w=this.weight,m=Math.abs,N=Math.SQRT2;for(y.g=0,y.f=0,g.push(y),y.opened=!0;!g.empty();){if(a=g.pop(),a.closed=!0,a===b)return n.backtrace(b);for(h=s.getNeighbors(a,A,v),p=0,l=h.length;l>p;++p)u=h[p],u.closed||(c=u.x,d=u.y,f=a.g+(0===c-a.x||0===d-a.y?1:N),(!u.opened||f<u.g)&&(u.g=f,u.h=u.h||w*k(m(c-r),m(d-o)),u.f=u.g+u.h,u.parent=a,u.opened?g.updateItem(u):(g.push(u),u.opened=!0)))}return[]},e.exports=r},{"../core/Heuristic":5,"../core/Util":7,heap:1}],9:[function(t,e){function r(t){i.call(this,t);var e=this.heuristic;this.heuristic=function(t,r){return 1e6*e(t,r)}}var i=t("./AStarFinder");r.prototype=new i,r.prototype.constructor=r,e.exports=r},{"./AStarFinder":8}],10:[function(t,e){function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||o.manhattan,this.weight=t.weight||1}var i=t("heap"),n=t("../core/Util"),o=t("../core/Heuristic");r.prototype.findPath=function(t,e,r,o,s){var a,h,u,p,l,c,d,f,g=function(t,e){return t.f-e.f},y=new i(g),b=new i(g),k=s.getNodeAt(t,e),A=s.getNodeAt(r,o),v=this.heuristic,w=this.allowDiagonal,m=this.dontCrossCorners,N=this.weight,x=Math.abs,F=Math.SQRT2,C=1,W=2;for(k.g=0,k.f=0,y.push(k),k.opened=C,A.g=0,A.f=0,b.push(A),A.opened=W;!y.empty()&&!b.empty();){for(a=y.pop(),a.closed=!0,h=s.getNeighbors(a,w,m),p=0,l=h.length;l>p;++p)if(u=h[p],!u.closed){if(u.opened===W)return n.biBacktrace(a,u);c=u.x,d=u.y,f=a.g+(0===c-a.x||0===d-a.y?1:F),(!u.opened||f<u.g)&&(u.g=f,u.h=u.h||N*v(x(c-r),x(d-o)),u.f=u.g+u.h,u.parent=a,u.opened?y.updateItem(u):(y.push(u),u.opened=C))}for(a=b.pop(),a.closed=!0,h=s.getNeighbors(a,w,m),p=0,l=h.length;l>p;++p)if(u=h[p],!u.closed){if(u.opened===C)return n.biBacktrace(u,a);c=u.x,d=u.y,f=a.g+(0===c-a.x||0===d-a.y?1:F),(!u.opened||f<u.g)&&(u.g=f,u.h=u.h||N*v(x(c-t),x(d-e)),u.f=u.g+u.h,u.parent=a,u.opened?b.updateItem(u):(b.push(u),u.opened=W))}}return[]},e.exports=r},{"../core/Heuristic":5,"../core/Util":7,heap:1}],11:[function(t,e){function r(t){i.call(this,t);var e=this.heuristic;this.heuristic=function(t,r){return 1e6*e(t,r)}}var i=t("./BiAStarFinder");r.prototype=new i,r.prototype.constructor=r,e.exports=r},{"./BiAStarFinder":10}],12:[function(t,e){function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners}var i=t("../core/Util");r.prototype.findPath=function(t,e,r,n,o){var s,a,h,u,p,l=o.getNodeAt(t,e),c=o.getNodeAt(r,n),d=[],f=[],g=this.allowDiagonal,y=this.dontCrossCorners,b=0,k=1;for(d.push(l),l.opened=!0,l.by=b,f.push(c),c.opened=!0,c.by=k;d.length&&f.length;){for(h=d.shift(),h.closed=!0,s=o.getNeighbors(h,g,y),u=0,p=s.length;p>u;++u)if(a=s[u],!a.closed)if(a.opened){if(a.by===k)return i.biBacktrace(h,a)}else d.push(a),a.parent=h,a.opened=!0,a.by=b;for(h=f.shift(),h.closed=!0,s=o.getNeighbors(h,g,y),u=0,p=s.length;p>u;++u)if(a=s[u],!a.closed)if(a.opened){if(a.by===b)return i.biBacktrace(a,h)}else f.push(a),a.parent=h,a.opened=!0,a.by=k}return[]},e.exports=r},{"../core/Util":7}],13:[function(t,e){function r(t){i.call(this,t),this.heuristic=function(){return 0}}var i=t("./BiAStarFinder");r.prototype=new i,r.prototype.constructor=r,e.exports=r},{"./BiAStarFinder":10}],14:[function(t,e){function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners}var i=t("../core/Util");r.prototype.findPath=function(t,e,r,n,o){var s,a,h,u,p,l=[],c=this.allowDiagonal,d=this.dontCrossCorners,f=o.getNodeAt(t,e),g=o.getNodeAt(r,n);for(l.push(f),f.opened=!0;l.length;){if(h=l.shift(),h.closed=!0,h===g)return i.backtrace(g);for(s=o.getNeighbors(h,c,d),u=0,p=s.length;p>u;++u)a=s[u],a.closed||a.opened||(l.push(a),a.opened=!0,a.parent=h)}return[]},e.exports=r},{"../core/Util":7}],15:[function(t,e){function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||s.manhattan,this.weight=t.weight||1,this.grid=null,this.openList=null,this.startNode=null,this.endNode=null}function i(t,e){return t.k1-e.k1||t.k2-e.k2}function n(t,e){return t.walkable&&e.walkable?0===t.x-e.x||0===t.y-e.y?1:u:1/0}var o=t("heap");t("../core/Util");var s=t("../core/Heuristic"),a=Math.min,h=Math.abs,u=Math.SQRT2;r.prototype.findPath=function(t,e,r,i,n){return this.init(t,e,r,i,n),this.replan()},r.prototype.init=function(t,e,r,n,s){this.openList=new o(i),this.grid=s,this.startNode=s.getNodeAt(t,e),this.endNode=s.getNodeAt(r,n),this.endNode.g=1/0,this.endNode.rhs=0;var a=this.startNode;a.g=a.rhs=a.k1=a.k2=1/0,this._openNode(this.endNode)},r.prototype._computeKey=function(t){var e=this.startNode;return t.k2=a(t.rhs,t.g),t.k1=t.k2+this.heuristic(h(t.x-e.x),h(t.y-e.y)),t},r.prototype._openNode=function(t){this._computeKey(t),t.inOpenList?this.openList.updateItem(t):this.openList.push(t),t.inOpenList=1,t.opened=!0},r.prototype._getSucc=function(t){return this.grid.getNeighbors(t,this.allowDiagonal,this.dontCrossCorners)},r.prototype._getPred=function(t){return this.grid.getNeighbors(t,this.allowDiagonal,this.dontCrossCorners)},r.prototype._updateState=function(t){if("g"in t||(t.g=1/0,t.rhs=1/0),t!==this.endNode){for(var e=1/0,r=this._getSucc(t),i=0;i<r.length;++i)"g"in r[i]&&(e=a(t.rhs,r[i].g+n(t,r[i])));t.rhs=a(e,t.rhs)}1===t.inOpenList&&(t.inOpenList=-1),t.g!==t.rhs&&this._openNode(t)},r.prototype.replan=function(){for(var t=this.startNode,e=this.openList;!e.empty()&&i(e.top(),this._computeKey(t))<0||t.g!==t.rhs;){for(var r,n=!0;n&&(r=e.pop());)n=-1===r.inOpenList,r.inOpenList=0;var o={k1:r.k1,k2:r.k2};if(this._computeKey(r),i(o,r)<0)this._openNode(r);else{r.g>r.rhs?(r.g=r.rhs,this._updateState(r)):r.g=1/0;for(var s=this._getPred(r),a=0;a<s.length;++a)this._updateState(s[a])}}return this._constructPath()},r.prototype._constructPath=function(){for(var t=[],e=this.startNode,r=this.endNode;e&&e!==r;){t.push(e);for(var i=1/0,o=this._getSucc(e),s=0;s<o.length;++s){var a=n(e,o[s])+o[s].g;i>a&&(i=a,e=o[s])}}return t},e.exports=r},{"../core/Heuristic":5,"../core/Util":7,heap:1}],16:[function(t,e){function r(t){i.call(this,t),this.heuristic=function(){return 0}}var i=t("./AStarFinder");r.prototype=new i,r.prototype.constructor=r,e.exports=r},{"./AStarFinder":8}],17:[function(t,e){function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||i.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0}t("../core/Util");var i=t("../core/Heuristic"),n=t("../core/Node");r.prototype.findPath=function(t,e,r,i,o){var s,a,h,u=0,p=(new Date).getTime(),l=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),c=function(t,e){return t.x===e.x||t.y===e.y?1:Math.SQRT2},d=function(t,e,r,i,s){if(u++,this.timeLimit>0&&(new Date).getTime()-p>1e3*this.timeLimit)return 1/0;var a=e+l(t,g)*this.weight;if(a>r)return a;if(t==g)return i[s]=[t.x,t.y],t;var h,f,y,b,k=o.getNeighbors(t,this.allowDiagonal,this.dontCrossCorners);for(y=0,h=1/0;b=k[y];++y){if(this.trackRecursion&&(b.retainCount=b.retainCount+1||1,b.tested!==!0&&(b.tested=!0)),f=d(b,e+c(t,b),r,i,s+1),f instanceof n)return i[s]=[t.x,t.y],f;this.trackRecursion&&0===--b.retainCount&&(b.tested=!1),h>f&&(h=f)}return h}.bind(this),f=o.getNodeAt(t,e),g=o.getNodeAt(r,i),y=l(f,g);for(s=0;!0;++s){if(a=[],h=d(f,0,y,a,0),1/0===h)return[];if(h instanceof n)return a;y=h}return[]},e.exports=r},{"../core/Heuristic":5,"../core/Node":6,"../core/Util":7}],18:[function(t,e){function r(t){t=t||{},this.heuristic=t.heuristic||o.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}var i=t("heap"),n=t("../core/Util"),o=t("../core/Heuristic");r.prototype.findPath=function(t,e,r,o,s){var a,h=this.openList=new i(function(t,e){return t.f-e.f}),u=this.startNode=s.getNodeAt(t,e),p=this.endNode=s.getNodeAt(r,o);for(this.grid=s,u.g=0,u.f=0,h.push(u),u.opened=!0;!h.empty();){if(a=h.pop(),a.closed=!0,a===p)return n.expandPath(n.backtrace(p));this._identifySuccessors(a)}return[]},r.prototype._identifySuccessors=function(t){var e,r,i,n,s,a,h,u,p,l,c=this.grid,d=this.heuristic,f=this.openList,g=this.endNode.x,y=this.endNode.y,b=t.x,k=t.y,A=Math.abs;for(Math.max,e=this._findNeighbors(t),n=0,s=e.length;s>n;++n)if(r=e[n],i=this._jump(r[0],r[1],b,k)){if(a=i[0],h=i[1],l=c.getNodeAt(a,h),l.closed)continue;u=o.euclidean(A(a-b),A(h-k)),p=t.g+u,(!l.opened||p<l.g)&&(l.g=p,l.h=l.h||d(A(a-g),A(h-y)),l.f=l.g+l.h,l.parent=t,l.opened?f.updateItem(l):(f.push(l),l.opened=!0))}},r.prototype._jump=function(t,e,r,i){var n,o,s=this.grid,a=t-r,h=e-i;if(!s.isWalkableAt(t,e))return null;if(this.trackJumpRecursion===!0&&(s.getNodeAt(t,e).tested=!0),s.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==a&&0!==h){if(s.isWalkableAt(t-a,e+h)&&!s.isWalkableAt(t-a,e)||s.isWalkableAt(t+a,e-h)&&!s.isWalkableAt(t,e-h))return[t,e]}else if(0!==a){if(s.isWalkableAt(t+a,e+1)&&!s.isWalkableAt(t,e+1)||s.isWalkableAt(t+a,e-1)&&!s.isWalkableAt(t,e-1))return[t,e]}else if(s.isWalkableAt(t+1,e+h)&&!s.isWalkableAt(t+1,e)||s.isWalkableAt(t-1,e+h)&&!s.isWalkableAt(t-1,e))return[t,e];return 0!==a&&0!==h&&(n=this._jump(t+a,e,t,e),o=this._jump(t,e+h,t,e),n||o)?[t,e]:s.isWalkableAt(t+a,e)||s.isWalkableAt(t,e+h)?this._jump(t+a,e+h,t,e):null},r.prototype._findNeighbors=function(t){var e,r,i,n,o,s,a,h,u=t.parent,p=t.x,l=t.y,c=this.grid,d=[];if(u)e=u.x,r=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),n=(l-r)/Math.max(Math.abs(l-r),1),0!==i&&0!==n?(c.isWalkableAt(p,l+n)&&d.push([p,l+n]),c.isWalkableAt(p+i,l)&&d.push([p+i,l]),(c.isWalkableAt(p,l+n)||c.isWalkableAt(p+i,l))&&d.push([p+i,l+n]),!c.isWalkableAt(p-i,l)&&c.isWalkableAt(p,l+n)&&d.push([p-i,l+n]),!c.isWalkableAt(p,l-n)&&c.isWalkableAt(p+i,l)&&d.push([p+i,l-n])):0===i?c.isWalkableAt(p,l+n)&&(c.isWalkableAt(p,l+n)&&d.push([p,l+n]),c.isWalkableAt(p+1,l)||d.push([p+1,l+n]),c.isWalkableAt(p-1,l)||d.push([p-1,l+n])):c.isWalkableAt(p+i,l)&&(c.isWalkableAt(p+i,l)&&d.push([p+i,l]),c.isWalkableAt(p,l+1)||d.push([p+i,l+1]),c.isWalkableAt(p,l-1)||d.push([p+i,l-1]));else for(o=c.getNeighbors(t,!0),a=0,h=o.length;h>a;++a)s=o[a],d.push([s.x,s.y]);return d},e.exports=r},{"../core/Heuristic":5,"../core/Util":7,heap:1}]},{},[3])(3)});